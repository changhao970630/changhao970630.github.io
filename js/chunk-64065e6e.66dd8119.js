(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64065e6e"],{"0dc4":function(e,t,i){"use strict";var r=i("13f1"),a=i.n(r);a.a},"13f1":function(e,t,i){},ec49:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"add_artical"}},[i("el-card",[i("el-steps",{attrs:{active:e.current_step,simple:""}},[i("el-step",{attrs:{title:"标题",icon:"el-icon-setting"}}),i("el-step",{attrs:{title:"类型",icon:"el-icon-setting"}}),i("el-step",{attrs:{title:"上传封面",icon:"el-icon-upload"}}),i("el-step",{attrs:{title:"正文show",icon:"el-icon-edit"}})],1)],1),i("div",{staticClass:"card_content"},[i("el-card",{staticClass:"card"},[i("div",[i("el-row",[i("el-form",{ref:"arical_info",attrs:{model:e.arical_info,rules:e.rules,"label-position":"left","label-width":"80px"}},[1==e.current_step?i("el-col",[i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{model:{value:e.arical_info.title,callback:function(t){e.$set(e.arical_info,"title",t)},expression:"arical_info.title"}})],1),i("el-form-item",{attrs:{label:"简介",prop:"describe"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.arical_info.describe,callback:function(t){e.$set(e.arical_info,"describe",t)},expression:"arical_info.describe"}})],1)],1):e._e(),2==e.current_step?i("el-col",[i("el-form-item",{attrs:{label:"类型",prop:"c_id"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.arical_info.c_id,callback:function(t){e.$set(e.arical_info,"c_id",t)},expression:"arical_info.c_id"}},e._l(e.typesList,(function(e,t){return i("el-option",{key:t,attrs:{value:e._id,label:e.typeName}})})),1)],1)],1):e._e(),3==e.current_step?i("el-col",[i("el-form-item",{attrs:{label:"上传封面",prop:"cover_img"}},[e.arical_info.cover_img?i("div",{attrs:{id:"cover_preview"}},[i("img",{attrs:{src:e.arical_info.cover_img,alt:"",id:"img"}}),i("div",{staticClass:"modal"},[i("i",{staticClass:"el-icon-delete btn",on:{click:e.RemoveCover}})])]):i("chang_upload",{on:{uploadRes:e.uploadRes}})],1)],1):e._e(),4==e.current_step?i("el-col",[i("el-form-item",{attrs:{label:"正文",prop:"content"}},[i("mavon-editor",{on:{change:e.inputContent},model:{value:e.arical_info.content,callback:function(t){e.$set(e.arical_info,"content",t)},expression:"arical_info.content"}})],1),i("p",{domProps:{innerHTML:e._s(e.arical_info.content)}})],1):e._e()],1)],1)],1),i("div",{staticStyle:{overflow:"hidden"}},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini",icon:"el-icon-d-arrow-right"},on:{click:function(t){return e.next("arical_info")}}},[e._v(e._s(4==e.current_step?"提交":""))]),1!==e.current_step?i("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"primary",icon:"el-icon-arrow-left"},on:{click:e.last}}):e._e()],1)])],1)],1)},a=[],n=(i("96cf"),i("1da1")),c={data:function(){return{value:"",current_step:1,defaultData:"preview",cover_preview:"",rules:{title:[{required:!0,message:"请填写标题!"}],describe:[{required:!0,message:"请填写简介!"}],c_id:[{required:!0,message:"请选择类型!"}],cover_img:[{required:!0,message:"请上传封面！!"}],content:[{required:!0,message:"请填写正文!"}]},typesList:[],arical_info:{title:"",describe:"",cover_img:"",content:"",c_id:""}}},methods:{next:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(i){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=10;break}if(!(t.current_step<4)){e.next=5;break}t.current_step++,e.next=10;break;case 5:return e.next=7,t.rq.fetchPost(t.apiUrl.artical,t.arical_info);case 7:r=e.sent,console.log(r),r.data.title?t.$message.success("创建成功！"):t.$message.error("创建失败".concat(r.error));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},last:function(){this.current_step>1?this.current_step--:this.$message.info("第一步了喔！")},getTypes:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.rq.fetchGet(e.apiUrl.types,{all:1});case 2:i=t.sent,e.typesList=i.data;case 4:case"end":return t.stop()}}),t)})))()},uploadRes:function(e){console.log(e.filepath),this.arical_info.cover_img=e.filepath},RemoveCover:function(){this.arical_info.cover_img=""},inputContent:function(e){console.log(e)}},created:function(){this.getTypes()}},l=c,o=(i("0dc4"),i("2877")),s=Object(o["a"])(l,r,a,!1,null,"248690ee",null);t["default"]=s.exports}}]);